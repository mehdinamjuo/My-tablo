<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Magic Frame AR</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- A-Frame + MindAR -->
<script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.4/dist/mindar-image-aframe.prod.js"></script>

<style>
html, body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  background: #000;
}

/* Loader */
#loader {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #000;
  color: #fff;
  z-index: 9999;
}

/* Hamburger button */
#menuBtn {
  position: fixed;
  top: 16px;
  right: 16px;
  z-index: 9998;
  font-size: 24px;
  background: rgba(0,0,0,0.6);
  color: #fff;
  border: none;
  border-radius: 10px;
  padding: 6px 12px;
  display: none;
}

/* Side menu */
#sideMenu {
  position: fixed;
  top: 0;
  right: -100%;
  width: 65%;
  height: 100%;
  background: rgba(0,0,0,0.92);
  z-index: 9997;
  transition: 0.3s;
  padding-top: 80px;
}

#sideMenu a {
  display: block;
  padding: 20px;
  color: #fff;
  font-size: 18px;
  text-decoration: none;
  border-bottom: 1px solid #333;
}
</style>
</head>

<body>

<div id="loader">Ø¯Ø± Ø­Ø§Ù„ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø¯ÙˆØ±Ø¨ÛŒÙ†...</div>

<button id="menuBtn">â˜°</button>

<div id="sideMenu">
  <a href="https://instagram.com/DELSAA_GALLERYY" target="_blank">
    ğŸ“© Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ
  </a>
</div>

<a-scene
  mindar-image="imageTargetSrc: targets.mind;"
  vr-mode-ui="enabled: false"
  device-orientation-permission-ui="enabled: false"
  embedded
>

  <a-assets>
    <video id="arVideo"
      src="video.mp4"
      loop
      muted
      playsinline
      webkit-playsinline
      crossorigin="anonymous">
    </video>
  </a-assets>

  <!-- Target -->
  <a-entity mindar-image-target="targetIndex: 0">
    
    <!-- Video plane (tabletop, exactly like photo) -->
    <a-video
      src="#arVideo"
      width="1"
      height="0.65"
      rotation="0 0 0"
      position="0 0 0">
    </a-video>

  </a-entity>

  <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>
</a-scene>

<script>
const scene = document.querySelector("a-scene");
const video = document.getElementById("arVideo");
const loader = document.getElementById("loader");
const menuBtn = document.getElementById("menuBtn");
const sideMenu = document.getElementById("sideMenu");

scene.addEventListener("arReady", () => {
  loader.style.display = "none";
  menuBtn.style.display = "block";
});

scene.addEventListener("targetFound", () => {
  video.play();
});

scene.addEventListener("targetLost", () => {
  video.pause();
});

/* Menu toggle */
menuBtn.onclick = () => {
  sideMenu.style.right =
    sideMenu.style.right === "0px" ? "-100%" : "0px";
};
</script>

</body>
</html>
